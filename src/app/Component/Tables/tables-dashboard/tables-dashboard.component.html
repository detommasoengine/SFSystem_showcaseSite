<div class="card">
  <!-- <div class="flex justify-content-center">
    <button
      type="button"
      (click)="showDialog()"
      pButton
      icon="pi pi-external-link"
      label="View"
    ></button>
  </div>
  <p-dialog
    header="Header"
    [resizable]="false"
    [modal]="true"
    [maximizable]="true"
    appendTo="body"
    [visible]="dialogVisible"
    [style]="{ width: '75vw' }"
    [contentStyle]="{ height: '300px' }"
  > -->
    <p-table
      #dt
      [columns]="selectedColumns"
      [value]="dati"
      selectionMode="single"
      [(selection)]="selectedData"
      [exportHeader]="'customExportHeader'"
      [tableStyle]="{ 'min-width': '50rem' }"
      [paginator]="true"
      [row]="10"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[5, 10, 15, 20]">
      
      <ng-template pTemplate="caption">
        <div class="flex">
          <div class="multiselect-container flex">
            <p-multiSelect
              [options]="cols"
              [(ngModel)]="selectedColumns"
              optionLabel="header"
              selectedItemsLabel="{0} columns selected"
              [style]="{ 'min-width': '200px' }"
              placeholder="Choose Columns"
            ></p-multiSelect>
            <div class="icons-container">
              <!-- <div style="display: block; background-color: aliceblue; color: blue;">Esporta Dati
          </div> -->
              <!-- Aggiungi questa riga e la classe justify-content-end -->
              <div>
                <button
                  type="button"
                  pButton
                  pRipple
                  icon="pi pi-file"
                  (click)="dt.exportCSV()"
                  class="mr-2"
                  pTooltip="CSV"
                  tooltipPosition="bottom"
                ></button>
                <button
                  type="button"
                  pButton
                  pRipple
                  icon="pi pi-file-excel"
                  (click)="exportExcel()"
                  class="p-button-success mr-2"
                  pTooltip="XLS"
                  tooltipPosition="bottom"
                ></button>
                <!-- <button
            type="button"
            pButton
            pRipple
            icon="pi pi-file-pdf"
            (click)="exportPdf()"
            class="p-button-warning mr-2"
            pTooltip="PDF"
            tooltipPosition="bottom"
          ></button> -->
                <button
                  type="button"
                  pButton
                  pRipple
                  icon="pi pi-filter"
                  (click)="dt.exportCSV({ selectionOnly: true })"
                  class="p-button-info ml-auto"
                  pTooltip="Selection Only"
                  tooltipPosition="bottom"
                ></button>
              </div>
            </div>
          </div>
        </div>
      </ng-template>

      <!-- Riga delle colonne ciclato dall'array header -->
      <ng-template pTemplate="header" let-columns>
        <tr>
          <!-- <th>Data</th> -->
          <th style="width: 25%" *ngFor="let col of columns">
            {{ col.header }}
          </th>
        </tr>
      </ng-template>

      <!-- Generazione Righe popolate dai dati -->
      <ng-template pTemplate="body" let-rowData let-columns="columns">
        <tr [pSelectableRow]="rowData">
          <td class="hidden-column">{{ rowData.Data }}</td>
          <td *ngFor="let col of columns">
            {{ rowData[col.field] }}
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="paginatorleft">
        <p-button
          type="button"
          icon="pi pi-plus"
          styleClass="p-button-text"
        ></p-button>
      </ng-template>
    </p-table>
    <!-- <ng-template pTemplate="footer">
      <button
        type="button"
        pButton
        pRipple
        icon="pi pi-times"
        (click)="dialogVisible = false"
        label="Dismiss"
        class="p-button-text"
      ></button>
    </ng-template> -->
  <!-- </p-dialog> -->
</div>
